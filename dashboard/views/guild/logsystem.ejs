<%- include ("../parts/sidebarguild",{bot,user}) %>
<br>
  <br>
  
  
   <div class="container">
<div class="container contact-form">
<div class="contact-image">
      <i></i>
  </div>
  
  <form method="POST">
  
      
     <div class="row">
          <div class="col-md-6">
            
    <br>
    <br>
  
      
      
      
  
      
       <div class="form-group d-flex">
       <label><h4 class="head">LOGS</h4></label>
     <div class="form-check form-switch">
       <% if(data.plugins.logs.enabled){ %>
  <input  class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked>
         <% } else{%>
          <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked">
           <% }%>
  <label class="form-check-label" for="flexSwitchCheckChecked"></label>
</div>      
           </div>
         
         <hr>
<div id="hama">
  <br><br>
  
  
      <div class="boxs">
           <div class="box-body">
            
             <div class= "form-group d-flex">
               <label><h4 class="head">Channel Create</h4></label>
               <div class="form-check form-switch">
                 <% if(data.plugins.logs.channelCreate.enabled){%>
                   <input class="form-check-input channelCreateonoff" type="checkbox" id="flexSwitchCheckChecked"checked>
                <% if(data.plugins.logs.channelCreate.color){%>

                     <label for="pickcolor"></label>
                     <input type="color" id="colorpicker" class="form-color channelCreatecolor" value="<%= data.plugins.logs.channelCreate.color%>">
                      <% } else{ %>
                        <label for="pickcolor"></lable>
                        <input type="color" class="form-color channelCreatecolor" id="colorpicker">
                        <% } %>
                   <% }else{%>
                     
                     <input class="form-check-input channelCreateonoff" type="checkbox" id"flexSwitchCheckChecked">
                     <% }%>
                      
  <label for="logchannel" class="form-label">LOGS CHANNEL <span style="color:rgba(175,22,22)">*</span></label>

<select id="channelCreatechannel" style="width:200px; background:#717179;color: white;" multiple required>
<% guild.channels.cache.map((channel)=>{%>
  <% if(channel.type==="GUILD_CATEGORY") return;%>
 <% if(channel.type === "GUILD_VOICE") return; %>
  
  <option value="<%= channel.id %>"><%=channel.name%></option>
    <% })%>
</select>
             </div>
           </div>
                          </div></div>
      <hr>

  
  
  
  
  
  
  
  
  
    <button type="submit" id="myButton" onclick="clickOnAdd()" name="btnSubmit" class="btn btn-primary"><i class="fad fa-save"></i>Apply</button>
  
    </div>
  </div>
  </form>
  

</div>
  </div>
<br><br>
  
  
      <script>
            function imgError(e) {
  e.src = "https://imgur.com/tiZmKiK.png";
}
/*


!(function (e) {
  "use strict";
  e(".js-fullheight").css("height", e(window).height()),
    e(window).resize(function () {
      e(".js-fullheight").css("height", e(window).height());
    }),
    e("#sidebarCollapse").on("click", function () {
      e("#sidebar").toggleClass("active");
    });
})(jQuery),
  $(document).on("click", ".dropdown-menu", function (e) {
    e.stopPropagation();
  }),
  console.log("vCodes: Online - Coded by: Claudette#0241 & Void Development"),
  $(document).ready(function () {
    $("#analytics_referring").DataTable({
      dom: "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>><'table-responsive'tr><'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
      oLanguage: {
        oPaginate: {
          sPrevious: '<i class="fal fa-arrow-left"></i>',
          sNext: '<i class="fal fa-arrow-right"></i>',
        },
        sInfo: " ",
        sSearch: " ",
        sSearchPlaceholder: " ",
        sLengthMenu: " ",
      },
      stripeClasses: [],
      lengthMenu: 5,
      pageLength: 5,
      aaSorting: [],
      drawCallback: function () {
        $(".dataTables_paginate > .pagination").addClass(
          " pagination-style-13 pagination-bordered"
        );
      },
    }),
      $("#analytics_country").DataTable({
        dom: "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>><'table-responsive'tr><'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        oLanguage: {
          oPaginate: {
            sPrevious:
              '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
            sNext:
              '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',
          },
          sInfo: " ",
          sSearch: " ",
          sSearchPlaceholder: " ",
          sLengthMenu: " ",
        },
        stripeClasses: [],
        lengthMenu: 5,
        pageLength: 5,
        aaSorting: [],
        drawCallback: function () {
          $(".dataTables_paginate > .pagination").addClass(
            " pagination-style-13 pagination-bordered"
          );
        },
      });
  }),
  $('.dropdown-menu .submenu > a:not(a[href="#"])').on("click", function () {
    self.location = $(this).attr("href");
  }),
  $(document).ready(function () {
    ($.fn.dataTable.ext.classes.sPageButton = "btn btn-vcodes m-1 pt-1"),
      $("#tableData").DataTable({
        language: {
          oPaginate: {
            sPrevious: '<i class="fal fa-arrow-left"></i>',
            sNext: '<i class="fal fa-arrow-right"></i>',
          },
          sInfo: "Page: _PAGE_/_PAGES_",
          sSearch: "",
          sSearchPlaceholder: "",
          sLengthMenu: "",
        },
        stripeClasses: [],
        lengthMenu: 10,
        pageLength: 10,
      });
  }),
  $(window).width() < 992 &&
    $(".dropdown-menu a").click(function (e) {
      e.preventDefault(),
        $(this).next(".submenu").length && $(this).next(".submenu").toggle(),
        $(".dropdown").on("hide.bs.dropdown", function () {
          $(this).find(".submenu").hide();
        });
    }),
  $(function () {
    $(".dropdown").hover(
      function () {
        $(this).addClass("open");
      },
      function () {
        $(this).removeClass("open");
      }
    );
  }),*/
  $(document).ready(function () {
    var e = $("select[multiple]"),
      t = e.find("option"),
      n = $("<div />").addClass("selectMultiple"),
      o = $("<div />"),
      s = $("<ul />"),
      a = e.data("placeholder"),
      i = $("<span />").text(a).appendTo(o);
    t.each(function () {
      var e = $(this).text();
      $(this).is(":selected")
        ? (o.append($("<a />").html("<em>" + e + "</em><i></i>")),
          i.addClass("hide"))
        : s.append($("<li />").html(e));
    }),
      o.append($("<div />").addClass("arrow")),
      n.append(o).append(s),
      e.wrap(n),
      $(document).on("click", ".selectMultiple ul li", function (e) {
        var t = $(this).parent().parent(),
          n = $(this);
        if (!t.hasClass("clicked")) {
          t.addClass("clicked"),
            n.prev().addClass("beforeRemove"),
            n.next().addClass("afterRemove"),
            n.addClass("remove");
          var o = $("<a />")
            .addClass("notShown")
            .html("<em>" + n.text() + "</em><i></i>")
            .hide()
            .appendTo(t.children("div"));
          o.slideDown(400, function () {
            setTimeout(function () {
              o.addClass("shown"),
                t.children("div").children("span").addClass("hide"),
                t
                  .find("option:contains(" + n.text() + ")")
                  .prop("selected", !0);
            }, 500);
          }),
            setTimeout(function () {
              n.prev().is(":last-child") &&
                n.prev().removeClass("beforeRemove"),
                n.next().is(":first-child") &&
                  n.next().removeClass("afterRemove"),
                setTimeout(function () {
                  n.prev().removeClass("beforeRemove"),
                    n.next().removeClass("afterRemove");
                }, 200),
                n.slideUp(400, function () {
                  n.remove(), t.removeClass("clicked");
                });
            }, 600);
        }
      }),
      $(document).on("click", ".selectMultiple > div a", function (e) {
        var t = $(this).parent().parent(),
          n = $(this);
        n.removeClass().addClass("remove"),
          t.addClass("open"),
          setTimeout(function () {
            n.addClass("disappear"),
              setTimeout(function () {
                n.animate(
                  { width: 0, height: 0, padding: 0, margin: 0 },
                  300,
                  function () {
                    var e = $("<li />")
                      .text(n.children("em").text())
                      .addClass("notShown")
                      .appendTo(t.find("ul"));
                    e.slideDown(400, function () {
                      e.addClass("show"),
                        setTimeout(function () {
                          t
                            .find(
                              "option:contains(" + n.children("em").text() + ")"
                            )
                            .prop("selected", !1),
                            t.find("option:selected").length ||
                              t
                                .children("div")
                                .children("span")
                                .removeClass("hide"),
                            e.removeClass();
                        }, 400);
                    }),
                      n.remove();
                  }
                );
              }, 300);
          }, 400);
      }),
      $(document).on(
        "click",
        ".selectMultiple > div .arrow, .selectMultiple > div span",
        function (e) {
          $(this).parent().parent().toggleClass("open");
        }
      );
  });/*
var $info = $(".tooltip");
$info.each(function () {
  var e = $(this).data("tooltip");
  $(this).append('<span class="inner" >' + e + "</span>");
});
const mobileScreenn = window.matchMedia("(max-width: 990px )");
$(document).ready(function () {
  $(".dashboard-nav-dropdown-toggle").click(function () {
    $(this)
      .closest(".dashboard-nav-dropdown")
      .toggleClass("show")
      .find(".dashboard-nav-dropdown")
      .removeClass("show"),
      $(this).parent().siblings().removeClass("show");
  }),
    $(".menu-toggle").click(function () {
      mobileScreenn.matches
        ? $(".dashboard-nav").toggleClass("mobile-show")
        : $(".dashboard").toggleClass("dashboard-compact");
    });
});
*/
  // document.getElementById("hama").style.display= "none";
        
        
       document.addEventListener('DOMContentLoaded', function () {

         
       var channelCreatecheck = document.querySelector('.channelCreateonoff')
      channelCreatecheck.addEventListener("change", function (){
        
 if(channelCreatecheck.checked){
         $.post("/dashboard/guild/<%= guild.id%>/logsystem",{
           channelCreateonoff:true
           
         })}else{
           $.post("/dashboard/guild/<%= guild.id%>/logsystem",{
             channelCreateonoff:false})
         }
         
         
                })
         
         
         
         
  var checkbox = document.querySelector('input[type="checkbox"]');
if(checkbox.checked){
  
  document.getElementById("hama").style.display ="block";
}else{ 
  document.getElementById("hama").style.display ="none";
};
  checkbox.addEventListener('change', function () {
    if (checkbox.checked) {
    document.getElementById("hama").style.display="block";
      
      $.post("/dashboard/guild/<%=guild.id%>/logsystem",{
        onoff:true,
      
      })
      
      // do this
    } else {
      
  document.getElementById("hama").style.display = "none";
      $.post("/dashboard/guild/<%=guild.id%>/logsystem",{
        onoff:false,
      
        
      })
      console.log("no cheked");
      // do that
    }
  });
}); 
        

    function clickOnAdd(){
    
    
$("#myButton").attr("disabled", true);
    $("#myButton").html('<i class="p-2 fad fa-spinner fa-w-16 fa-pulse fa-lg"></i>');

    setTimeout(() => {
        $.post('/dashboard/guild/<%=guild.id%>/logsystem',{
                logchannel:$('#logchannel').val(),
          onoff: true,
            
    }).done(function(data){
                
                
                
                
                if(data.error){
      const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 4000,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseleave', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
    }})
    
Toast.fire({
  icon: 'error',
  title: 'we have problem',
  text: data.message,
  footer: `<%=guild.name%>` + '<br>' + 'BoBo Dashboard',
  
})
                  
  $("#myButton").html('<i class="fal fa-paper-plane"></i>&nbsp;Submit');
                    $("#myButton").attr("disabled", false);
                    return;    
      
    
    
    
    }else{
     
  
      const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 3000,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

      
  Toast.fire({
  icon: 'success',
  title: 'successful...',
  text:data.message,
  footer:`<%=guild.name%>` + 'BoBo Dashboard',
    
  })
            $("#myButton").html('<i class="fal fa-paper-plane"></i>&nbsp;Submit');
                    $("#myButton").attr("disabled", false);
                    return;
    
    }
              });
    },2000)
    }
      
        
   </script>
<%- include("../parts/foot.ejs")%>